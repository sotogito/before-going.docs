## 왜 조회는 `GET` (정확한 key), 무효화는 `SCAN` (패턴 탐색)?

### 🔹 조회(GET)

- 네가 조회할 때는 키를 **정확히 알고 있음**.  
    예:
    
    `missions::123:456:2025-09-10`
    
- Redis는 내부적으로 **해시 테이블 구조**라서, 정확한 key 조회는 **O(1)** (즉시 접근).
    
- 이건 데이터 개수가 수백만 개여도 성능이 거의 일정해.
    

👉 **명확히 key를 아는 경우**에는 Redis가 “딕셔너리에서 키 하나 꺼내기”처럼 동작하니까 성능 부담이 전혀 없어.

---

### 🔹 무효화(삭제)

- 하지만 사용자 단위 삭제할 때는 key를 **정확히 다 알 수가 없음**.  
    예:
    
    `missions::123:1:2025-09-10 missions::123:2:2025-09-11 missions::123:99:2025-09-12 ...`
    
- 즉, `memberId=123` 관련 키가 수백~수천 개 있을 수 있는데, **키 전체 목록을 알아야 삭제 가능**.
    
- 이때는 패턴 검색(`missions::123:*`)이 필요하고, 여기서 `KEYS` 대신 `SCAN`을 쓰는 거야.
    

👉 **명확히 key를 모르는 경우**에는 Redis에게 “이 패턴에 맞는 키들 다 찾아줘”라고 부탁해야 하고, 이게 `SCAN`.

---

## 📌 "명확히 아는 거" vs "모르는 거" 차이

- **아는 경우** → 바로 해시 테이블에서 한 건 찾기 (O(1)) → 빠르고 안전
    
- **모르는 경우** → 전체 키 중에서 패턴 매칭해야 함 (O(N)) → 서버 부하 가능 → 그래서 `SCAN`으로 나눠서 조금씩
    

---

## 📌 정리

- 조회는 key를 **명확히 아는 경우라서 `GET`** → 빠르고 효율적
    
- 무효화는 key를 **모르는 경우라서 패턴 검색 필요** → `SCAN`으로 안전하게 순회