- 알림있는 시나리오 생성 - 추가
- 알림 있는 시나리오 수정 - 교체
- 알림 없는 시나리오 수정 - 삭제해야됨
- 시나리오 삭제 - 삭제해야됨

트리거해서 redis에 올리고
TTL은 한달
새롭게 업데이트될때마다 EXPIRE 호출해서 TTL 갱신
조회시에는 Etag 비교후 반환
같을시 : 반환하지않음
다를시 : 새로운 데이터 반환

조회시 만약 redis에 올라간 데이터가 없을 경우 조회 

시나리오가 아무것도 없을떄 조회하는 경우도 생각해봐야됨
## 4. 잠재적 주의 포인트 ⚠️

1. **ETag 저장 위치**
    
    - Hash에 알림 JSON만 넣으면 ETag는 어디 저장?
        
    - 추천: `notif:etag:{memberId}` 라는 String Key 따로 두기
        
        - CRUD마다 ETag도 갱신 → 조회 API에서 바로 비교 가능
            
2. **동기화 실패 대비**
    
    - 만약 DB update는 성공했는데 Redis update는 실패하면?
        
    - 그럴 땐 Redis 캐시 날려버리고(DB truth 유지) 다음 조회에서 DB fallback으로 다시 채우게 하는 게 안전
        
    - 즉, 실패 시 `DEL notif:{memberId}` 전략도 고려
        
3. **조회 시 TTL 갱신 여부**
    
    - 지금 설계는 CRUD에서만 TTL 리셋
        
    - 만약 "읽기만 해도 TTL 연장"을 원한다면 조회 시에도 `EXPIRE` 호출하면 됨 (정책 선택 사항)