- [ ] ectorator 인터페이스로 생성한다음에 for문으로 찾게하는게 더 나을수도?
- [ ] TodyaWeather하고 Future 나누기
- [ ] 스키마, 영어로 변경
- [ ] meta 할당량 다 사용했을 시 로그 and 차선책?
- [ ] WetherSErvie 리팩토링
- [x] 날씨 조회 조건 - 그시간vs최악의
- [x] 미세먼지, UV 그냥 같이 한꺼번에 조회
- [x] 미세먼지랑 UV는 평균을 내야하나
- [ ] Cache dto record 변환
- [ ] 격자좌표 5km -> 키우기? - 따로 상수화해야됨
- [ ] Exception은 공통 aop에서 받지않는지 확인, - api는 다르나?
- [ ] 예외처리, get말고 join?
- [ ] "wx:future:51:131:2025-08-25:SLOT_00_04" redis키 오늘ㅇㄴ 날짜를 오늘로? key가 다양할수록 좋을까?



미세먼지 평균값 계산이π
1. 10, 2.5 가져와서 더 안좋은거 가져온다음에
2. List가 쌓이면
3. 그 리스트를 초미세먼지 기준으로 평균값을 매ㅑ김
-> 로직을 변경하든가, 아니면 미세먼지만 가져오든가 해야겠다.

---
오늘 조회
- 4시간마다 새로운 api 접근
- 사용자가 요청한 시간대 날씨 표출

과거 조회
- 기상 : 가장 최악의 기상
- 미세먼지, UV 평균치

---
그럼 redis에 어떻게 올려야하지
격자좌표+슬롯시간 : 슬롯시간대 기상정보 으로 메모리에 띄워서 만약 격자좌표가 같을 경우는 해당 메모리에있는것을 바로 사용


일단 오늘만에서 요청이 들어오면
1. 격자좌표 + 슬롯 시간으로 redis에 존재하는지 확인 후, 
2. 만야겡 없으면 생성을 하는데
   생성할떄 슬롯 시간대 전체를 추려 받아오고, 그 결과를 redis에 올리고, 상요자는 현재 시간만 가져간다.



날씨
- 오늘 : 해당 시간 : response, LocalDate, LocalTime, Slot
	- 슬롯시간대별로 뽑아오고 redis올리고 LocalTime꺼 반환
- 미래 : 가장 최악 : response, LocalDate
	- 다 받아와서 최악의 값

미세먼지, UV : response, Local
- 오늘 : 해당 시간 : response, LocalDate, LocalTime, Slot
	- 슬롯 시간대별로 뽑아오고 redis올리고, LocalTime꺼 반환
- 미래 : 평균값 : response, LocalDate
	- 다 받아와서 평균값

