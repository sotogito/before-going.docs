- 날씨 데이터는 **기상청 단기예보 API** 기반입니다.
- 미세먼지·UV는 **Open-Meteo Air Quality API**를 사용합니다.

- 서버는 기상청 제공 주기에 맞춰 3시간마다 새로운 데이터를 갱신합니다.

- 응답 시간은 2~4초입니다. 만약 캐시에 올라가 있을 경우는 1초 내외입니다.
api 조회 요청은 5초가 최대입니다.
현재 사용하고있는 기상청 api의 경우 오후-새벽시간대에 오류가 잦아서 fallback처리를 해두었습니다.
만약 fallback처리가 된다면 후처리 api에 재접근하여 예상 조회 시간은 5~8초입니다.

### 오늘 날씨 조회
- 클라이언트에서 위도·경도 + 조회 날짜(오늘) 요청
- 서버는 해당 좌표를 기상청 격자좌표(약 10km 단위)로 변환 후 캐시 확인
- 캐시에 있으면 즉시 반환, 없으면 API 조회 → 캐시에 적재
- 요청 시간 날씨 반환

### 미래 날짜 조회(+3일)
- 클라이언트에서 위도·경도 + 조회 날짜(미래) 요청
- 서버는 하루(00시~23시) 단위 데이터를 조회
- 시간대별 데이터를 비교해 가장 안 좋은 기상 상태(비·매우나쁨 등) 를 대표값으로 반환

### 예외 처리
만약 api 접근에 실패했을 경우에 예외 터지고 던져지는 모든 예외에서 기상 정보를 불러올 수 없다고 처리해주시면 될 거 같스빈다.

api 이외의예외는 각 기상 정보를 UNKNOWN(없음) 상수로 보내드립니다.
예를들어 날씨의 경우는 한반도를 넘어가면 DEFAULT로 처리됩니다.

### 기상 상수 종류
기상 응답 결과 예시는 다음과 같습니다.
```
{
  "weather": "RAIN",
  "fineDust": "BAD",
  "uv": "HIGH"
}
```

- 날씨 weather
기상청의 경우 흐림과, 구름많음이 따로 구분되어서 응답으로 두 데이터가 보내질텐데요.
CLOUDY 또는 OVERCAST일때 흐림으로 띄워주시면 될 거 같아요.
```
UNKNOWN("없음")

SUNNY("맑음",)
CLOUDY("구름많음")
OVERCAST("흐림")
RAIN("비")
SLEET("진눈깨비")
SNOW("눈")
SHOWER("소나기")
```

- 미세먼지 fineDust
```
UNKNOWN("없음")

GOOD("좋음")
NORMAL("보통")
BAD("나쁨")
VERY_BAD("매우나쁨")
```

- 자외선 uv
```
UNKNOWN("없음")

VERY_LOW("매우낮음")
LOW("낮음")
NORMAL("보통")
HIGH("높음")
VERY_HIGH("매우높음")
```
